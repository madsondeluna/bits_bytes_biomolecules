<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Bits, Bytes e Biomoléculas — Versão Web</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
<header style="text-align: center;">
  <h1>Bits, Bytes e Biomoléculas — Versão Lite</h1>
  <p class="muted">
    Se preferir ver o a versão bruta do material, abra 
    <a href="https://github.com/madsondeluna/bits_bytes_biomolecules" target="_blank" rel="noopener noreferrer">
      Bits, Bytes e Biomoléculas</a>!
  </p>
  <p class="muted">
    <strong>Exercícios práticos:</strong> <a href="exercises.html">Atividades Práticas</a>
  </p>
</header>


  <main id="content">Carregando conteúdo do README.md…</main>

  <footer>
    <p class="muted">
      <a href="exercises.html">Exercícios práticos</a> | 
      Repositório: <a href="https://github.com/madsondeluna/bits_bytes_biomolecules" target="_blank">GitHub</a>
    </p>
  </footer>

  <!-- Biblioteca para converter Markdown -> HTML -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- Configuração do MathJax para processar $...$ e $$...$$ -->
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        displayMath: [['$$','$$']]
      },
      options: {
        skipHtmlTags: ['script','noscript','style','textarea','pre']
      }
    };
  </script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

  <script>
    // Puxa o README.md bruto do GitHub e renderiza
    async function renderReadme(){
      const rawUrl = 'https://raw.githubusercontent.com/madsondeluna/bits_bytes_biomolecules/main/README.md';
      try{
        const res = await fetch(rawUrl);
        if(!res.ok) throw new Error('Não foi possível obter README.md: ' + res.status);
        const md = await res.text();

        // Converte Markdown para HTML
        const html = marked.parse(md, {gfm:true, breaks:true});

        // Insere no DOM
        const container = document.getElementById('content');
        container.innerHTML = html;

        // Corrige caminhos relativos de imagens (docs/ é servido como root do site)
        // substitui src relativos por URLs para raw.githubusercontent.com
        try{
          const imgs = container.querySelectorAll('img');
          imgs.forEach(img => {
            const src = img.getAttribute('src') || '';
            // ignora URLs já absolutas
            if(!src) return;
            if(src.startsWith('http:') || src.startsWith('https:') || src.startsWith('//')) return;
            // remove leading ./ ou / se existirem
            const path = src.replace(/^\.\/?/, '');
            const rawBase = 'https://raw.githubusercontent.com/madsondeluna/bits_bytes_biomolecules/main/';
            img.src = rawBase + path;
          });
        }catch(e){
          console.warn('Erro ao reescrever caminhos de imagem:', e);
        }

        // Após inserir, pede ao MathJax para renderizar fórmulas
        if(window.MathJax && MathJax.typesetPromise){
          MathJax.typesetPromise();
        }
      }catch(e){
        document.getElementById('content').textContent = 'Erro ao carregar README.md: ' + e.message;
      }
    }
    renderReadme();
  </script>
</body>
</html>
