<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Bits, Bytes e Biomol√©culas ‚Äî Vers√£o Web</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    #login-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px) saturate(150%);
      -webkit-backdrop-filter: blur(20px) saturate(150%);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }
    #login-box {
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(30px) saturate(180%);
      -webkit-backdrop-filter: blur(30px) saturate(180%);
      padding: 40px;
      border-radius: 20px;
      border: 1px solid rgba(0, 0, 0, 0.1);
      box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.1);
      max-width: 400px;
      width: 90%;
    }
    #login-box h2 {
      margin-top: 0;
      color: #1e3a5f;
      text-align: center;
      font-weight: 600;
    }
    #login-box p {
      color: #4a5568;
    }
    #login-box input {
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      border: 1px solid rgba(0, 0, 0, 0.15);
      border-radius: 10px;
      box-sizing: border-box;
      font-size: 16px;
      background: rgba(255, 255, 255, 0.5);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      color: #1e3a5f;
      transition: all 0.3s ease;
    }
    #login-box input::placeholder {
      color: rgba(0, 0, 0, 0.4);
    }
    #login-box input:focus {
      outline: none;
      border: 1px solid #2c5f7c;
      background: rgba(255, 255, 255, 0.7);
      box-shadow: 0 0 15px rgba(44, 95, 124, 0.2);
    }
    #login-box button {
      width: 100%;
      padding: 12px;
      background: linear-gradient(135deg, #1e3a5f 0%, #2c5f7c 100%);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      margin-top: 10px;
      transition: all 0.3s ease;
    }
    #login-box button:hover {
      background: linear-gradient(135deg, #2c5f7c 0%, #1e3a5f 100%);
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(30, 58, 95, 0.3);
    }
    .error-message {
      color: #ffffff;
      background: #d32f2f;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      font-size: 14px;
      font-weight: bold;
      margin-top: 10px;
      padding: 10px;
      border-radius: 8px;
      text-align: center;
      border: 1px solid #b71c1c;
      display: none;
    }
    .error-message:not(:empty) {
      display: block;
    }
    #logout-btn {
      position: fixed;
      top: 10px;
      right: 10px;
      padding: 8px 16px;
      background: #f44336;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 14px;
      z-index: 1000;
    }
    #logout-btn:hover {
      background: #d32f2f;
    }
    .hidden {
      display: none !important;
    }
  </style>
</head>
<body>
  <div id="login-overlay">
    <div id="login-box">
      <h2>üßÆ Acesso Restrito</h2>
      <p style="text-align: center; color: #1e3a5f; font-weight: 500;">Bits, Bytes e Biomol√©culas</p>
      <input type="text" id="username" placeholder="Usu√°rio" autocomplete="username">
      <input type="password" id="password" placeholder="Senha" autocomplete="current-password">
      <button onclick="checkLogin()">Entrar</button>
      <div id="error-msg" class="error-message"></div>
    </div>
  </div>
  <button id="logout-btn" class="hidden" onclick="logout()">Sair</button>
<header style="text-align: center;">
  <h1>Bits, Bytes e Biomol√©culas ‚Äî Vers√£o Lite</h1>
  <p class="muted">
    Se preferir ver o a vers√£o bruta do material, abra 
    <a href="https://github.com/madsondeluna/bits_bytes_biomolecules" target="_blank" rel="noopener noreferrer">
      Bits, Bytes e Biomol√©culas</a>!
  </p>
  <p class="muted">
    <strong>Exerc√≠cios pr√°ticos:</strong> <a href="exercises.html" target="_blank" rel="noopener noreferrer">Atividades Pr√°ticas</a>
  </p>
</header>

  <main>
    <div style="background:hwb(210 58% 7%);border-left:4px solid hsl(209, 81%, 19%);padding:16px 20px;margin:20px 0;border-radius:4px;">
      <h3 style="margin-top:0;color:hsl(0, 0%, 100%);">Antes de Come√ßar os Exerc√≠cios</h3>
<p style="margin-bottom:0;color:hsl(0, 0%, 100%);">
  A compreens√£o dos fundamentos da biologia molecular e da termodin√¢mica de prote√≠nas √© essencial para o dom√≠nio dos m√©todos computacionais de modelagem estrutural. Recomendamos que voc√™ revise esses conceitos fundamentais antes de iniciar os exerc√≠cios pr√°ticos. Os exerc√≠cios est√£o organizados por m√≥dulos e ser√£o discutidos ponto a ponto durante a aula. Voc√™ pode acess√°-los diretamente na <a href="https://madsondeluna.github.io/bits_bytes_biomolecules/exercises.html" target="_blank" style="color:oklch(50.669% 0.27678 263.688 / 0.654);text-decoration:underline;">p√°gina de exerc√≠cios</a> ou consultar o arquivo <a href="https://github.com/madsondeluna/bits_bytes_biomolecules/blob/main/EXERCISES.md" target="_blank" style="color:oklch(50.669% 0.27678 263.688 / 0.654);text-decoration:underline;"><code>EXERCISES.md</code></a> no reposit√≥rio.
</p>

    </div>

    <div id="content">Carregando conte√∫do do README.md‚Ä¶</div>
  </main>

  
  <footer style="text-align: center;">
    <p class="muted">
      <a href="exercises.html">Exerc√≠cios Pr√°ticos</a> | 
      Reposit√≥rio: <a href="https://github.com/madsondeluna/bits_bytes_biomolecules" target="_blank">GitHub</a>
    </p>
  </footer>

  <!-- Biblioteca para converter Markdown -> HTML -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- Configura√ß√£o do MathJax para processar $...$ e $$...$$ -->
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        displayMath: [['$$','$$']]
      },
      options: {
        skipHtmlTags: ['script','noscript','style','textarea','pre']
      }
    };
  </script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

  <script>
    // Puxa o README.md bruto do GitHub e renderiza
    async function renderReadme(){
      const rawUrl = 'https://raw.githubusercontent.com/madsondeluna/bits_bytes_biomolecules/main/README.md';
      try{
        const res = await fetch(rawUrl);
        if(!res.ok) throw new Error('N√£o foi poss√≠vel obter README.md: ' + res.status);
        const md = await res.text();

        // Converte Markdown para HTML
        const html = marked.parse(md, {gfm:true, breaks:true});

        // Insere no DOM
        const container = document.getElementById('content');
        container.innerHTML = html;

        // Corrige caminhos relativos de imagens (docs/ √© servido como root do site)
        // substitui src relativos por URLs para raw.githubusercontent.com
        try{
          const imgs = container.querySelectorAll('img');
          imgs.forEach(img => {
            const src = img.getAttribute('src') || '';
            // ignora URLs j√° absolutas
            if(!src) return;
            if(src.startsWith('http:') || src.startsWith('https:') || src.startsWith('//')) return;
            // remove leading ./ ou / se existirem
            const path = src.replace(/^\.\/?/, '');
            const rawBase = 'https://raw.githubusercontent.com/madsondeluna/bits_bytes_biomolecules/main/';
            img.src = rawBase + path;
          });
        }catch(e){
          console.warn('Erro ao reescrever caminhos de imagem:', e);
        }

        // Ap√≥s inserir, pede ao MathJax para renderizar f√≥rmulas
        if(window.MathJax && MathJax.typesetPromise){
          MathJax.typesetPromise();
        }
      }catch(e){
        document.getElementById('content').textContent = 'Erro ao carregar README.md: ' + e.message;
      }
    }

    // EASTER EGG - Se voc√™ chegou at√© aqui, parab√©ns!
    //
    // Opa! Olha s√≥ quem descobriu o c√≥digo-fonte!
    //
    // Sim, eu sei... senhas hardcoded n√£o √© a melhor pr√°tica de seguran√ßa.
    // Mas √© que tava sem tempo e precisava subir isso r√°pido!
    //
    // J√° que voc√™ √© esperto(a) o suficiente pra chegar at√© aqui, voc√™ merece
    // saber as credenciais para acessar o curso:
    //
    //   Usu√°rio: aluno
    //   Senha: biomol2025
    //
    //   Usu√°rio: professor
    //   Senha: admin123
    //
    //   Usu√°rio: jornada2025
    //   Senha: metionina
    //
    //
    // IMPORTANTE: Em breve vou implementar autentica√ß√£o via tokens de verdade, ent√£o aproveite essa brecha enquanto ela dura! A festa vai acabar em breve!
    //
    // Divirta-se e bons estudos!


    const AUTH_CREDENTIALS = {
      'aluno': 'biomol2025',          
      'professor': 'admin123',        
      'jornada2025': 'metionina'      
      // Adicione mais usu√°rios abaixo, seguindo o padr√£o:
      // 'novo_usuario': 'nova_senha',
    };

    function checkLogin() {
      const username = document.getElementById('username').value.trim();
      const password = document.getElementById('password').value;
      const errorMsg = document.getElementById('error-msg');

      if (AUTH_CREDENTIALS[username] === password) {
        // Login bem-sucedido (usando sessionStorage - expira ao fechar o navegador)
        sessionStorage.setItem('bbb_auth', btoa(username + ':' + password));
        showContent();
        errorMsg.textContent = '';
      } else {
        // Login falhou
        errorMsg.textContent = 'Usu√°rio ou senha incorretos!';
        document.getElementById('password').value = '';
      }
    }

    function showContent() {
      document.getElementById('login-overlay').classList.add('hidden');
      document.getElementById('logout-btn').classList.remove('hidden');
      renderReadme();
    }

    function logout() {
      sessionStorage.removeItem('bbb_auth');
      document.getElementById('login-overlay').classList.remove('hidden');
      document.getElementById('logout-btn').classList.add('hidden');
      document.getElementById('username').value = '';
      document.getElementById('password').value = '';
      document.getElementById('error-msg').textContent = '';
    }

    // Verifica se j√° est√° autenticado
    function checkAuth() {
      const auth = sessionStorage.getItem('bbb_auth');
      if (auth) {
        try {
          const decoded = atob(auth);
          const [username, password] = decoded.split(':');
          if (AUTH_CREDENTIALS[username] === password) {
            showContent();
            return;
          }
        } catch (e) {
          sessionStorage.removeItem('bbb_auth');
        }
      }
    }

    // Permite login com Enter
    document.addEventListener('DOMContentLoaded', function() {
      checkAuth();
      document.getElementById('password').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
          checkLogin();
        }
      });
      document.getElementById('username').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
          document.getElementById('password').focus();
        }
      });
    });
  </script>
</body>
</html>
